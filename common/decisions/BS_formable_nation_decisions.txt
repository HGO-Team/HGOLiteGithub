form_north_german_confederation_category = {

	form_north_german_confederation = {

		icon = generic_form_nation

		allowed = {
			tag = PRE
		}

		available = {
			controls_state = 792
			controls_state = 979
			controls_state = 56
			controls_state = 794
			controls_state = 763
			controls_state = 5
			controls_state = 67
			controls_state = 803
			controls_state = 802
			controls_state = 801
			controls_state = 66
			controls_state = 68
			controls_state = 63
			controls_state = 1112
			controls_state = 797
			controls_state = 62
			controls_state = 64
			controls_state = 1105
			controls_state = 793
			controls_state = 796
			controls_state = 58
			controls_state = 59
			controls_state = 60
			controls_state = 55
			controls_state = 57
			controls_state = 788
			controls_state = 51
			controls_state = 61
			controls_state = 85
			controls_state = 86
			controls_state = 762
			controls_state = 804
			controls_state = 884
			controls_state = 812
		}

		visible = {
			tag = PRE
			NOT = { has_global_flag = form_north_german_confederation_flag }
		}

		complete_effect = {
			set_cosmetic_tag = NGC
			85 = { add_core_of = ROOT }
			86 = { add_core_of = ROOT }
			762 = { add_core_of = ROOT }
			61 = { add_core_of = ROOT }
			804 = { add_core_of = ROOT }
			884 = { add_core_of = ROOT }
			812 = { add_core_of = ROOT }

			hidden_effect = {
				set_global_flag = form_north_german_confederation_flag
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}

form_confederate_states_category = {

	form_confederate_states = {

		icon = generic_form_nation

		allowed = {
			original_tag = TEX
		}

		available = {
			controls_state = 375
			controls_state = 851
			controls_state = 852
			controls_state = 850
			controls_state = 858
			controls_state = 371
			controls_state = 845
			controls_state = 370
			controls_state = 367
			controls_state = 365
			controls_state = 366
			controls_state = 364
			controls_state = 372
			controls_state = 368
			controls_state = 363
			controls_state = 362
		}

		visible = {
			tag = TEX
			NOT = { has_global_flag = glory_of_csa }
		}

		complete_effect = {
			set_cosmetic_tag = TEX_CSA
			375 = { add_core_of = ROOT }
			851 = { add_core_of = ROOT }
			852 = { add_core_of = ROOT }
			850 = { add_core_of = ROOT }
			858 = { add_core_of = ROOT }
			371 = { add_core_of = ROOT }
			845 = { add_core_of = ROOT }
			370 = { add_core_of = ROOT }
			367 = { add_core_of = ROOT }
			365 = { add_core_of = ROOT }
			366 = { add_core_of = ROOT }
			364 = { add_core_of = ROOT }
			372 = { add_core_of = ROOT }
			368 = { add_core_of = ROOT }
			363 = { add_core_of = ROOT }
			362 = { add_core_of = ROOT }
			843 = { add_core_of = ROOT }
			369 = { add_core_of = ROOT }
			374 = { add_core_of = ROOT }
			849 = { add_core_of = ROOT }
			1200 = { add_core_of = ROOT }
			1199 = { add_core_of = ROOT }
			1195 = { add_core_of = ROOT }
			
			set_capital = 362

			hidden_effect = {
				set_global_flag = glory_of_csa
			}
		}

		ai_will_do = {
			factor = 10
		}
	}
}

form_east_africa_category = {
	
	form_east_africa = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = UGA
				original_tag = KEN
				original_tag = TZN
			}
		}

		available = {
			is_subject = no
			# Kenya
			custom_trigger_tooltip = {
				tooltip = form_country_kenya_required_states_tt
				controls_state = 547
				
			}
			# Tanzania
			custom_trigger_tooltip = {
				tooltip = form_country_tanzania_required_states_tt
				controls_state = 546
				
			}
			# Uganda
			custom_trigger_tooltip = {
				tooltip = form_country_uganda_required_states_tt
				controls_state = 548
				controls_state = 1197
			}
		}

		visible = {
			OR = {
				original_tag = UGA
				original_tag = TZN
				original_tag = KEN
			}
			NOT = { has_global_flag = form_east_africa_flag }
		}

		complete_effect = {
			set_cosmetic_tag = EAF_UNIFIED
			# Kenya
			custom_effect_tooltip = form_country_kenya_coring_states_tt
			hidden_effect = {
				547 = { add_core_of = ROOT }
			}
			# Tanzania
			custom_effect_tooltip = form_country_tanzania_coring_states_tt
			hidden_effect = {
				546 = { add_core_of = ROOT }
			}
			# Uganda
			custom_effect_tooltip = form_country_uganda_coring_states_tt
			hidden_effect = {
				548 = { add_core_of = ROOT }
				1197 = { add_core_of = ROOT }
			}
			
			hidden_effect = {
				set_global_flag = form_east_africa_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	integrate_ruanda_urundi = {

		allowed = {
			OR = {
				original_tag = KEN
				original_tag = UGA
				original_tag = TZN
			}
		}

		icon = generic_political_discourse

		available = {
			custom_trigger_tooltip = {
				tooltip = form_country_rwanda_required_states_tt
				controls_state = 768
			}
			custom_trigger_tooltip = {
				tooltip = form_country_burundi_required_states_tt
				controls_state = 769
			}
			custom_trigger_tooltip = {
                tooltip = form_east_africa_required
			    has_cosmetic_tag = EAF_UNIFIED
            }
		}

		visible = {
			OR = {
				original_tag = KEN
				original_tag = UGA
				original_tag = TZN
			}
		}

		fire_only_once = yes

		complete_effect = {
			custom_effect_tooltip = form_country_rwanda_coring_states_tt
			hidden_effect = {
				768 = { add_core_of = ROOT }
			}
			custom_effect_tooltip = form_country_burundi_coring_states_tt
			hidden_effect = {
				769 = { add_core_of = ROOT }
			}
		}
		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	integrate_south_sudan = {

		allowed = {
			OR = {
				original_tag = KEN
				original_tag = UGA
				original_tag = TZN
			}
		}

		icon = generic_political_discourse

		available = {
			custom_trigger_tooltip = {
				tooltip = form_country_south_sudan_required_states_tt
				controls_state = 1187
			}
			custom_trigger_tooltip = {
				tooltip = form_country_lado_required_states_tt
				controls_state = 1196
			}
			custom_trigger_tooltip = {
				tooltip = form_east_africa_required
				has_cosmetic_tag = EAF_UNIFIED
			}
		}

		visible = {
			OR = {
				original_tag = KEN
				original_tag = UGA
				original_tag = TZN
			}
		}

		fire_only_once = yes
		
		complete_effect = {
			1187 = { add_core_of = ROOT }
			1196 = { add_core_of = ROOT }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_abyssinia_category = {
	
	form_abyssinia = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = ETH
			}
		}

		available = {
			is_subject = no
			# Eritrea
			custom_trigger_tooltip = {
				tooltip = form_country_eritrea_required_states_tt
				controls_state = 550
				
				}
			}
		

		visible = {
			OR = {
			original_tag = ETH
			}
			NOT = { has_global_flag = form_abyssinia_flag }
		}

		complete_effect = {
			set_cosmetic_tag = ABY_UNIFIED
			# Eritrea
			custom_effect_tooltip = form_country_eritrea_coring_states_tt
			hidden_effect = {
				550 = { add_core_of = ROOT }
			}			
			hidden_effect = {
				set_global_flag = form_abyssinia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	start_integrate_somalia = {

		allowed = {
			original_tag = ETH
		}

		icon = generic_political_discourse
		available = {
			is_subject = no

			custom_trigger_tooltip = {
				tooltip = form_country_somalia_required_states_tt
				controls_state = 1088
				controls_state = 559
				controls_state = 1087
				}
			}
			visible = {
			AND = {
				original_tag = ETH
				has_global_flag = form_abyssinia_flag
				}
			}

			fire_only_once = yes

			complete_effect = {
				custom_effect_tooltip = form_country_somalia_claiming_states_tt
				hidden_effect = {
				1088 = { add_claim_by = ROOT }
				559 = { add_claim_by = ROOT }
				1087 = { add_claim_by = ROOT }
				1088 = { add_compliance = 25 }
				559 = { add_compliance = 25 }
				1087 = { add_compliance = 25 }
			}
			hidden_effect = {
				set_global_flag = start_integrate_somalia_flag
			}
		}
	}

	start_integrate_somaliland = {

		allowed = {
			original_tag = ETH
		}

		icon = generic_political_discourse
		available = {
			is_subject = no

			custom_trigger_tooltip = {
				tooltip = form_country_somaliland_required_states_tt
				controls_state = 269
				}
			}
			visible = {
			AND = {
				original_tag = ETH
				has_global_flag = form_abyssinia_flag
				}
			}

			fire_only_once = yes

			complete_effect = {
				custom_effect_tooltip = form_country_somaliland_claiming_states_tt
				hidden_effect = {
				269 = { add_claim_by = ROOT }
				269 = { add_compliance = 40 }
			}
			hidden_effect = {
				set_global_flag = start_integrate_somaliland_flag
			}
		}
	}


	integrate_djibouti = {

		allowed = {
			OR = {
				original_tag = ETH
			}
		}

		icon = generic_political_discourse

		available = {
			custom_trigger_tooltip = {
				tooltip = form_country_djibouti_required_states_tt
				controls_state = 268
			}
			custom_trigger_tooltip = {
				tooltip = form_abyssinia_required
				has_cosmetic_tag = ABY_UNIFIED
			}
		}

		visible = {
			AND = {
				original_tag = ETH
				has_global_flag = form_abyssinia_flag
			}
		}

		fire_only_once = yes
		
		complete_effect = {
			268 = { add_core_of = ROOT }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	integrate_somalia = {

		allowed = {
			OR = {
				original_tag = ETH
			}
		}

		icon = generic_political_discourse

		available = {
			AND = {
			custom_trigger_tooltip = {
				tooltip = form_country_somalia_required_states_tt
				controls_state = 1088
				controls_state = 1087
				controls_state = 559
			}
			custom_trigger_tooltip = {
				tooltip = form_abyssinia_required
				has_cosmetic_tag = ABY_UNIFIED
			}
				if = {
					core_compliance = {
    				occupied_country_tag = SOM
    				value > 70
					}
				}
			}
		}

		visible = {
			AND = {
				original_tag = ETH
				has_global_flag = start_integrate_somalia_flag
			}
		}

		fire_only_once = yes
		
		complete_effect = {
			1088 = { add_core_of = ROOT }
			559 = { add_core_of = ROOT }
			1087 = { add_core_of = ROOT }
		}
		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
		integrate_somaliland = {

		allowed = {
				original_tag = ETH
		}

		icon = generic_political_discourse

		available = {
			AND = {
			custom_trigger_tooltip = {
				tooltip = form_country_somaliland_required_states_tt
				controls_state = 269
			}
			custom_trigger_tooltip = {
                tooltip = form_abyssinia_required
			    has_cosmetic_tag = ABY_UNIFIED
            }
			if = {
					core_compliance = {
    				occupied_country_tag = SMA
    				value > 70
					}
				}
			}
		}

		visible = {
			AND = {
				original_tag = ETH
				has_global_flag = start_integrate_somaliland_flag
			}
		}

		fire_only_once = yes

		complete_effect = {
			custom_effect_tooltip = form_country_somaliland_coring_states_tt
			hidden_effect = {
				768 = { add_core_of = ROOT }
			}
		}
		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}